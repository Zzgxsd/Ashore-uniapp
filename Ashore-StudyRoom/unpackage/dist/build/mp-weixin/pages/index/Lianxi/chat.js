(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/Lianxi/chat"],{"321f":function(t,e,n){"use strict";(function(t,e){var o=n("4ea4");n("d0ed"),n("a9ff");o(n("66fd"));var i=o(n("91bf"));t.__webpack_require_UNI_MP_PLUGIN__=n,e(i.default)}).call(this,n("bc2e")["default"],n("543d")["createPage"])},"799c":function(t,e,n){"use strict";n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){}));var o=function(){var t=this.$createElement;this._self._c},i=[]},"91bf":function(t,e,n){"use strict";n.r(e);var o=n("799c"),i=n("b417");for(var c in i)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return i[t]}))}(c);n("9fd3");var a=n("f0c5"),r=Object(a["a"])(i["default"],o["b"],o["c"],!1,null,"4fcb2383",null,!1,o["a"],void 0);e["default"]=r.exports},"9fd3":function(t,e,n){"use strict";var o=n("e329"),i=n.n(o);i.a},a76f:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{keyboardHeight:0,bottomHeight:0,scrollTop:0,userId:"",chatMsg:"",msgList:[{botContent:"你好啊，请问我有什么可以帮助你的吗？",userContent:"",image:"../../../static/jiaoshi.jpg"},{botContent:"",userContent:"我想问问周末有位置吗?",image:"../../../static/me/touxiang.png"},{botContent:"周末有位置，可以预约哦！",userContent:"",image:"../../../static/jiaoshi.jpg"}]}},updated:function(){this.scrollToBottom()},computed:{windowHeight:function(){return this.rpxTopx(t.getSystemInfoSync().windowHeight)},inputHeight:function(){return this.bottomHeight+this.keyboardHeight}},onLoad:function(){var e=this;t.onKeyboardHeightChange((function(t){e.keyboardHeight=e.rpxTopx(t.height),e.keyboardHeight<0&&(e.keyboardHeight=0)}))},onUnload:function(){},methods:{focus:function(){this.scrollToBottom()},blur:function(){this.scrollToBottom()},rpxTopx:function(e){var n=t.getSystemInfoSync().windowWidth,o=750/n*Number(e);return Math.floor(o)},sendHeight:function(){var e=this;setTimeout((function(){var n=t.createSelectorQuery();n.select(".send-msg").boundingClientRect(),n.exec((function(t){e.bottomHeight=e.rpxTopx(t[0].height)}))}),10)},scrollToBottom:function(e){var n=this;setTimeout((function(){var e=t.createSelectorQuery().in(n);e.select("#scrollview").boundingClientRect(),e.select("#msglistview").boundingClientRect(),e.exec((function(t){t[1].height>t[0].height&&(n.scrollTop=n.rpxTopx(t[1].height-t[0].height))}))}),15)},handleSend:function(){if(this.chatMsg&&/^\s+$/.test(this.chatMsg))this.$modal.showToast("不能发送空白消息");else{var t={botContent:"",userContent:this.chatMsg,image:"../../../static/GGB.jpg"};this.msgList.push(t),this.chatMsg="",this.scrollToBottom()}},zhuye:function(){t.navigateTo({url:"../../../pages/tabbar/tabbar-6/zhuye"})}}};e.default=n}).call(this,n("543d")["default"])},b417:function(t,e,n){"use strict";n.r(e);var o=n("a76f"),i=n.n(o);for(var c in o)["default"].indexOf(c)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(c);e["default"]=i.a},e329:function(t,e,n){}},[["321f","common/runtime","common/vendor"]]]);